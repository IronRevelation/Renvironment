{"version":3,"sources":["components/AddButton.tsx","components/AddMoneyForm.tsx","components/MySnackbars.tsx","components/EditButton.tsx","components/DeleteButton.tsx","components/MoneyList.tsx","components/MoneyManager.tsx","components/App.tsx","index.tsx"],"names":["ThemedButton","withStyles","root","backgroundColor","color","Button","AddButton","props","variant","startIcon","Add","disableElevation","onClick","disabled","ThemedTextField","borderColor","TextField","AddMoneyForm","useState","NaN","moneyToAdd","setMoneyToAdd","err","isNaN","type","label","placeholder","inputProps","min","onKeyDown","e","key","InputLabelProps","shrink","error","onChange","parseFloat","target","value","style","paddingTop","ErrSnackbar","Snackbar","open","openCfg","autoHideDuration","onClose","Alert","severity","message","SuccessSnackbar","marginRight","EditButton","size","Edit","marginLeft","DeleteButton","Delete","useStyles","makeStyles","moneyObjCard","padding","marginBottom","date","fontSize","fontWeight","MoneyList","marginTop","display","money","map","moneyObj","index","currMoneyObjDate","Date","Card","className","getFullYear","getMonth","getDate","atLeastTwoDigitsRequired","val","toFixed","Math","max","toString","split","length","addMoney","a","fetch","method","res","ok","Error","json","MoneyManager","disabledForms","setDisabledForms","openErrSnackbar","setOpenErrSnackbar","openSuccessSnackbar","setOpenSuccessSnackbar","validValToAdd","then","newMoney","updateMoney","catch","finally","window","htmlentities","encode","str","buf","i","unshift","charCodeAt","join","decode","replace","match","dec","String","fromCharCode","JSON","stringify","toISOString","defaultMoney","parse","replaceAll","App","setMoney","newMon","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.39133ed3.chunk.js","sourcesContent":["import React from \"react\";\nimport { Add } from \"@material-ui/icons\";\nimport { Button, withStyles } from \"@material-ui/core\";\n\nconst ThemedButton = withStyles({\n\troot: {\n\t\tbackgroundColor: \"#009fb7\",\n\t\tcolor: \"#272727\",\n\t},\n})(Button);\n\nconst AddButton: React.FC<{ onClick: () => void; disabled?: boolean }> = (\n\tprops\n) => {\n\treturn (\n\t\t<ThemedButton\n\t\t\tvariant=\"contained\"\n\t\t\tstartIcon={<Add />}\n\t\t\tdisableElevation\n\t\t\tonClick={props.onClick}\n\t\t\tdisabled={props.disabled}\n\t\t>\n\t\t\tAdd value\n\t\t</ThemedButton>\n\t);\n};\n\nexport default AddButton;\n","import React, { useState } from \"react\";\nimport AddButton from \"./AddButton\";\nimport { TextField, withStyles } from \"@material-ui/core\";\n\nconst ThemedTextField = withStyles({\n\troot: {\n\t\t\"& label.Mui-focused\": {\n\t\t\tcolor: \"#009FB7\",\n\t\t},\n\t\t\"& .MuiOutlinedInput-root\": {\n\t\t\t\"&:hover fieldset\": {\n\t\t\t\tborderColor: \"#009FB7\",\n\t\t\t},\n\t\t\t\"&.Mui-focused fieldset\": {\n\t\t\t\tborderColor: \"#009FB7\",\n\t\t\t},\n\t\t},\n\t\tcolor: \"#272727\",\n\t},\n})(TextField);\n\nconst AddMoneyForm: React.FC<{\n\tdisabled?: boolean;\n\tonClick: (validValToAdd: number) => void;\n}> = (props) => {\n\tconst [moneyToAdd, setMoneyToAdd] = useState(NaN);\n\n\tconst err = isNaN(moneyToAdd) || moneyToAdd <= 0;\n\n\treturn (\n\t\t<div>\n\t\t\t<ThemedTextField\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tlabel=\"Money to add\"\n\t\t\t\tplaceholder=\"e.g. 3.14\"\n\t\t\t\tinputProps={{\n\t\t\t\t\tmin: \"0\",\n\t\t\t\t\tonKeyDown: (e) => {\n\t\t\t\t\t\tif (e.key === \"Enter\" && !err) {\n\t\t\t\t\t\t\tprops.onClick(moneyToAdd);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\terror={err}\n\t\t\t\tdisabled={props.disabled}\n\t\t\t\tonChange={(e) => setMoneyToAdd(parseFloat(e.target.value))}\n\t\t\t/>\n\t\t\t<div style={{ paddingTop: \"1rem\" }}>\n\t\t\t\t<AddButton\n\t\t\t\t\tdisabled={props.disabled || err}\n\t\t\t\t\tonClick={() => props.onClick(moneyToAdd)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AddMoneyForm;\n","import React from \"react\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { Alert } from \"@material-ui/lab\";\n\ntype SnackbarConfig = {\n\topen: boolean;\n\tmessage: string;\n};\n\nexport function ErrSnackbar(props: {\n\topenCfg: SnackbarConfig;\n\tonClose: () => void;\n}) {\n\treturn (\n\t\t<Snackbar\n\t\t\topen={props.openCfg.open}\n\t\t\tautoHideDuration={2500}\n\t\t\tonClose={props.onClose}\n\t\t>\n\t\t\t<Alert severity=\"error\" variant=\"filled\">\n\t\t\t\t{props.openCfg.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t);\n}\n\nexport function SuccessSnackbar(props: {\n\topenCfg: SnackbarConfig;\n\tonClose: () => void;\n}) {\n\treturn (\n\t\t<Snackbar\n\t\t\topen={props.openCfg.open}\n\t\t\tautoHideDuration={2500}\n\t\t\tonClose={props.onClose}\n\t\t>\n\t\t\t<Alert severity=\"success\" variant=\"filled\">\n\t\t\t\t{props.openCfg.message}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t);\n}\n","import React from \"react\";\nimport { Edit } from \"@material-ui/icons\";\nimport { Button, withStyles } from \"@material-ui/core\";\n\nconst ThemedButton = withStyles({\n\troot: {\n\t\tbackgroundColor: \"#009FB7\",\n\t\tcolor: \"#272727\",\n\t\tmarginRight: \"0.25rem\",\n\t},\n})(Button);\n\nfunction EditButton() {\n\treturn (\n\t\t<ThemedButton disableElevation size=\"small\" startIcon={<Edit />}>\n\t\t\tEdit\n\t\t</ThemedButton>\n\t);\n}\n\nexport default EditButton;\n","import React from \"react\";\nimport { Delete } from \"@material-ui/icons\";\nimport { Button, withStyles } from \"@material-ui/core\";\n\nconst ThemedButton = withStyles({\n\troot: {\n\t\tbackgroundColor: \"#e26d5a\",\n\t\tcolor: \"#272727\",\n\t\tmarginLeft: \"0.25rem\",\n\t},\n})(Button);\n\nfunction DeleteButton() {\n\treturn (\n\t\t<ThemedButton disableElevation size=\"small\" startIcon={<Delete />}>\n\t\t\tDelete\n\t\t</ThemedButton>\n\t);\n}\n\nexport default DeleteButton;\n","import React from \"react\";\nimport { MoneyArray } from \"./MoneyManager\";\nimport { Card, makeStyles } from \"@material-ui/core\";\nimport EditButton from \"./EditButton\";\nimport DeleteButton from \"./DeleteButton\";\n\nconst useStyles = makeStyles({\n\tmoneyObjCard: {\n\t\tbackgroundColor: \"#EFF1F3\",\n\t\tborderColor: \"#696773\",\n\t\tpadding: \"0.5rem\",\n\t\tmarginBottom: \"0.5rem\",\n\t},\n\tdate: {\n\t\tfontSize: 12,\n\t},\n\tvalue: {\n\t\tfontSize: 20,\n\t\tfontWeight: \"bold\",\n\t},\n});\n\nconst MoneyList: React.FC<{ money: MoneyArray }> = (props) => {\n\tconst style = useStyles();\n\treturn (\n\t\t<div style={{ marginTop: \"2rem\", display: \"inline-block\" }}>\n\t\t\t{props.money.map((moneyObj, index) => {\n\t\t\t\tconst currMoneyObjDate = new Date(moneyObj.date);\n\t\t\t\treturn (\n\t\t\t\t\t<Card key={index} className={style.moneyObjCard} variant=\"outlined\">\n\t\t\t\t\t\t<div className={style.date}>\n\t\t\t\t\t\t\t{currMoneyObjDate.getFullYear()}-{currMoneyObjDate.getMonth() + 1}\n\t\t\t\t\t\t\t-{currMoneyObjDate.getDate()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={style.value}>{moneyObj.value}</div>\n\t\t\t\t\t\t<EditButton />\n\t\t\t\t\t\t<DeleteButton />\n\t\t\t\t\t</Card>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default MoneyList;\n","import React, { useState } from \"react\";\n// import MoneyComponent from \"./MoneyComponent\";\nimport AddMoneyForm from \"./AddMoneyForm\";\nimport { ErrSnackbar, SuccessSnackbar } from \"./MySnackbars\";\nimport MoneyList from \"./MoneyList\";\n\nexport type MoneyArray = { date: string; value: number }[];\n\nconst atLeastTwoDigitsRequired = (val: number): string => {\n\treturn val.toFixed(Math.max(2, (val.toString().split(\".\")[1] || []).length));\n};\n\nconst addMoney = async (val: number): Promise<MoneyArray> => {\n\tconst res = await fetch(`/api/add_money/${atLeastTwoDigitsRequired(val)}`, {\n\t\tmethod: \"POST\",\n\t});\n\tif (!res.ok) {\n\t\tthrow new Error(\"RESPONSESTATUSNOTOK\");\n\t} else {\n\t\treturn res.json() as Promise<MoneyArray>;\n\t}\n};\n\nconst MoneyManager: React.FC<{\n\tmoney: MoneyArray;\n\tupdateMoney: (newMoney: MoneyArray) => void;\n}> = (props) => {\n\tconst [disabledForms, setDisabledForms] = useState(false);\n\tconst [openErrSnackbar, setOpenErrSnackbar] = useState({\n\t\topen: false,\n\t\tmessage: \"\",\n\t});\n\tconst [openSuccessSnackbar, setOpenSuccessSnackbar] = useState({\n\t\topen: false,\n\t\tmessage: \"\",\n\t});\n\treturn (\n\t\t<div>\n\t\t\t<ErrSnackbar\n\t\t\t\topenCfg={openErrSnackbar}\n\t\t\t\tonClose={() => setOpenErrSnackbar({ open: false, message: \"\" })}\n\t\t\t/>\n\t\t\t<SuccessSnackbar\n\t\t\t\topenCfg={openSuccessSnackbar}\n\t\t\t\tonClose={() => setOpenSuccessSnackbar({ open: false, message: \"\" })}\n\t\t\t/>\n\t\t\t<AddMoneyForm\n\t\t\t\tonClick={(validValToAdd) => {\n\t\t\t\t\tsetDisabledForms(true);\n\t\t\t\t\taddMoney(validValToAdd)\n\t\t\t\t\t\t.then((newMoney) => {\n\t\t\t\t\t\t\tprops.updateMoney(newMoney);\n\t\t\t\t\t\t\tsetOpenSuccessSnackbar({\n\t\t\t\t\t\t\t\topen: true,\n\t\t\t\t\t\t\t\tmessage: \"YAY! Nothing went wrong!\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) =>\n\t\t\t\t\t\t\tsetOpenErrSnackbar({\n\t\t\t\t\t\t\t\topen: true,\n\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\te.message === \"RESPONSESTATUSNOTOK\"\n\t\t\t\t\t\t\t\t\t\t? \"You sent an invalid value\"\n\t\t\t\t\t\t\t\t\t\t: \"There's a network problem! Try refreshing the page.\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.finally(() => setDisabledForms(false));\n\t\t\t\t}}\n\t\t\t\tdisabled={disabledForms}\n\t\t\t/>\n\t\t\t<MoneyList money={props.money} />\n\t\t</div>\n\t);\n};\n\nexport default MoneyManager;\n","import React, { useState } from \"react\";\nimport MoneyManager, { MoneyArray } from \"./MoneyManager\";\n\ndeclare global {\n\tinterface Window {\n\t\tmoney: string;\n\t\thtmlentities: {\n\t\t\tencode: (a: string) => string;\n\t\t\tdecode: (a: string) => string;\n\t\t};\n\t}\n}\n\nwindow.htmlentities = {\n\t/**\n\t * Converts a string to its html characters completely.\n\t *\n\t * @param {String} str String with unescaped HTML characters\n\t **/\n\tencode: function (str) {\n\t\tvar buf = [];\n\n\t\tfor (var i = str.length - 1; i >= 0; i--) {\n\t\t\tbuf.unshift([\"&#\", str.charCodeAt(i), \";\"].join(\"\"));\n\t\t}\n\n\t\treturn buf.join(\"\");\n\t},\n\n\t/**\n\t * Converts an html characterSet into its original character.\n\t *\n\t * @param {String} str htmlSet entities\n\t **/\n\tdecode: function (str) {\n\t\treturn str.replace(/&#(\\d+);/g, function (match, dec) {\n\t\t\treturn String.fromCharCode(dec);\n\t\t});\n\t},\n};\n\nif (window.money === \"{{money}}\") {\n\twindow.money = JSON.stringify([\n\t\t{\n\t\t\tdate: new Date().toISOString(),\n\t\t\tvalue: 1.14,\n\t\t},\n\t\t{\n\t\t\tdate: new Date().toISOString(),\n\t\t\tvalue: 2.14,\n\t\t},\n\t\t{\n\t\t\tdate: new Date().toISOString(),\n\t\t\tvalue: 3.14,\n\t\t},\n\t\t{\n\t\t\tdate: new Date().toISOString(),\n\t\t\tvalue: 4.14,\n\t\t},\n\t]);\n}\n\nconst defaultMoney = JSON.parse(\n\twindow.htmlentities.decode(window.money).replaceAll(\"'\", '\"')\n) as MoneyArray;\n\nfunction App() {\n\tconst [money, setMoney] = useState(defaultMoney);\n\treturn (\n\t\t<div>\n\t\t\t<h1>SaveBase</h1>\n\t\t\t<MoneyManager money={money} updateMoney={(newMon) => setMoney(newMon)} />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
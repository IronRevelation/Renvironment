(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{74:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t(9),a=t.n(o),c=t(8),i=t(17),s=t.n(i),u=t(28),l=t(112),d=t(5),b=t(111),j=t(2),O=Object(d.a)({root:{backgroundColor:"#009fb7",color:"#272727"}})(b.a),f=function(e){return Object(j.jsx)(O,{variant:"contained",startIcon:Object(j.jsx)(l.a,{}),disableElevation:!0,onClick:e.onClick,disabled:e.disabled,children:"Add value"})},p=t(123),h=Object(d.a)({root:{"& label.Mui-focused":{color:"#009FB7"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#009FB7"},"&.Mui-focused fieldset":{borderColor:"#009FB7"}},color:"#272727"}})(p.a),m=function(e){var n=Object(r.useState)(NaN),t=Object(c.a)(n,2),o=t[0],a=t[1],i=isNaN(o)||o<=0;return Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{variant:"outlined",type:"number",label:"Money to add",placeholder:"e.g. 3.14",inputProps:{min:"0",onKeyDown:function(n){"Enter"!==n.key||i||e.onClick(o)}},InputLabelProps:{shrink:!0},error:i,disabled:e.disabled,onChange:function(e){return a(parseFloat(e.target.value))}}),Object(j.jsx)("div",{style:{paddingTop:"1rem"},children:Object(j.jsx)(f,{disabled:e.disabled||i,onClick:function(){return e.onClick(o)}})})]})},g=t(125),v=t(122);function x(e){return Object(j.jsx)(g.a,{open:e.openCfg.open,autoHideDuration:2500,onClose:e.onClose,children:Object(j.jsx)(v.a,{severity:"error",variant:"filled",children:e.openCfg.message})})}function y(e){return Object(j.jsx)(g.a,{open:e.openCfg.open,autoHideDuration:2500,onClose:e.onClose,children:Object(j.jsx)(v.a,{severity:"success",variant:"filled",children:e.openCfg.message})})}var C=t(119),S=t(120),k=t(115),w=Object(d.a)({root:{backgroundColor:"#009fb7",color:"#272727",marginRight:"0.25rem"}})(b.a),T=function(e){return Object(j.jsx)(w,{variant:"contained",startIcon:Object(j.jsx)(k.a,{}),disableElevation:!0,size:"small",onClick:e.onClick,disabled:e.disabled,children:"Confirm"})},E=t(116),N=Object(d.a)({root:{backgroundColor:"#e26d5a",color:"#272727",marginLeft:".25rem"}})(b.a),A=function(e){return Object(j.jsx)(N,{disableElevation:!0,variant:"contained",onClick:e.onClick,disabled:e.disabled,startIcon:Object(j.jsx)(E.a,{}),size:"small",children:"Cancel"})},R=Object(d.a)({root:{"& label.Mui-focused":{color:"#009FB7"},"& .MuiInput-underline:after":{borderBottomColor:"#009FB7"},"& .Mui-error:after":{borderBottom:"2px solid red"},color:"#272727",backgroundColor:"#ddd",borderTopLeftRadius:".25rem",borderTopRightRadius:".25rem"}})(p.a),M=function(e){var n=Object(r.useState)(NaN),t=Object(c.a)(n,2),o=t[0],a=t[1],i=isNaN(o)||o<=0;return Object(j.jsxs)("div",{children:[Object(j.jsx)(R,{variant:"standard",type:"number",label:"New quantity",placeholder:"e.g. 3.14",inputProps:{min:"0",onKeyDown:function(n){"Enter"!==n.key||i||e.onClick(o)}},InputLabelProps:{shrink:!0},error:i,disabled:e.disabled,onChange:function(e){return a(parseFloat(e.target.value))}}),Object(j.jsxs)("div",{style:{paddingTop:".5rem"},children:[Object(j.jsx)(T,{disabled:e.disabled||i,onClick:function(){return e.onClick(o)}}),Object(j.jsx)(A,{disabled:e.disabled,onClick:function(){return e.onClick("aborted")}})]})]})},Y=t(117),F=Object(d.a)({root:{backgroundColor:"#009FB7",color:"#272727",marginRight:"0.5rem"}})(b.a),I=function(e){return Object(j.jsx)(F,{disableElevation:!0,variant:"contained",size:"small",onClick:e.onClick,disabled:e.disabled,startIcon:Object(j.jsx)(Y.a,{}),children:"Edit"})},P=t(118),B=Object(d.a)({root:{backgroundColor:"#e26d5a",color:"#272727"}})(b.a),U=function(e){return Object(j.jsx)(B,{disableElevation:!0,size:"small",startIcon:Object(j.jsx)(P.a,{}),onClick:function(){return e.onClick()},children:"Delete"})},D=Object(C.a)({moneyObjCard:{backgroundColor:"#EFF1F3",borderColor:"#696773",padding:"1rem",marginBottom:"1.5rem"},date:{fontSize:12},value:{fontSize:20,fontWeight:"bold"}}),K=function(e){var n=D(),t=Object(r.useState)(!1),o=Object(c.a)(t,2),a=o[0],i=o[1];return Object(j.jsxs)(S.a,{className:n.moneyObjCard,variant:"outlined",children:[Object(j.jsxs)("div",{className:n.date,children:[e.dateObj.getFullYear(),"-",e.dateObj.getMonth()+1,"-",e.dateObj.getDate()]}),a?Object(j.jsx)(M,{disabled:e.disabledEdit,onClick:function(n){i(!1),"aborted"!==n&&e.onEdit(e.index,n)}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:n.value,children:e.moneyVal+""+e.currency}),Object(j.jsx)(I,{onClick:function(){return i(!0)}}),Object(j.jsx)(U,{onClick:function(){return e.onDelete(e.index)}})]})]})},q=function(e){return Object(j.jsx)("div",{style:{marginTop:"1.5rem",display:"inline-block"},children:e.money.map((function(n,t){var r=new Date(n.date);return Object(j.jsx)(K,{dateObj:r,moneyVal:n.value,index:t,disabledEdit:e.disabledEdit,onEdit:e.editMoney,onDelete:e.deleteMoney,currency:e.currency},t)}))})},z=function(e){return e.toFixed(Math.max(2,(e.toString().split(".")[1]||[]).length))},V=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/add_money/".concat(z(n)),{method:"POST"});case 2:if((t=e.sent).ok){e.next=7;break}throw new Error("RESPONSESTATUSNOTOK");case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/modify_money/".concat(n,"/").concat(z(t)),{method:"POST"});case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("RESPONSESTATUSNOTOK");case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/remove_money/".concat(n),{method:"POST"});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("RESPONSESTATUSNOTOK");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(e){var n=Object(r.useState)(!1),t=Object(c.a)(n,2),o=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(c.a)(i,2),u=s[0],l=s[1],d=Object(r.useState)({open:!1,message:""}),b=Object(c.a)(d,2),O=b[0],f=b[1],p=Object(r.useState)({open:!1,message:""}),h=Object(c.a)(p,2),g=h[0],v=h[1];return Object(j.jsxs)("div",{style:{marginTop:"2rem"},children:[Object(j.jsx)("h3",{children:"Your money:"}),Object(j.jsx)(x,{openCfg:O,onClose:function(){return f({open:!1,message:""})}}),Object(j.jsx)(y,{openCfg:g,onClose:function(){return v({open:!1,message:""})}}),Object(j.jsx)(m,{onClick:function(n){a(!0),V(n).then((function(n){e.updateMoney(n),v({open:!0,message:"YAY! Value added succesfully!"})})).catch((function(e){return f({open:!0,message:"RESPONSESTATUSNOTOK"===e.message?"You sent an invalid value!":"There's a network problem! Try refreshing the page."})})).finally((function(){return a(!1)}))},disabled:o}),Object(j.jsx)(q,{money:e.money,disabledEdit:u,currency:e.currency,editMoney:function(n,t){l(!0),L(n,t).then((function(n){e.updateMoney(n),v({open:!0,message:"YAY! Value modified succesfully!"})})).catch((function(e){return f({open:!0,message:"RESPONSESTATUSNOTOK"===e.message?"You sent an invalid value!":"There's a network problem! Try refreshing the page."})})).finally((function(){return l(!1)}))},deleteMoney:function(n){return _(n).then((function(n){e.updateMoney(n),v({open:!0,message:"YAY! Value deleted succesfully!"})})).catch((function(e){return f({open:!0,message:"RESPONSESTATUSNOTOK"===e.message?"You tried to delete a problematic value!":"There's a network problem! Try refreshing the page."})}))}})]})},Q=Object(d.a)({root:{"& label.Mui-focused":{color:"#009FB7"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#009FB7"},"&.Mui-focused fieldset":{borderColor:"#009FB7"}},marginTop:"0.5rem",color:"#272727"}})(p.a),H=Object(d.a)({root:{backgroundColor:"#009fb7",color:"#272727",marginRight:"0.5rem"}})(b.a),W=Object(d.a)({root:{backgroundColor:"#e26d5a",color:"#272727"}})(b.a),G=function(e){var n=Object(r.useState)(NaN),t=Object(c.a)(n,2),o=t[0],a=t[1],i=isNaN(o)||o<=0;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Your goal:"}),Object(j.jsxs)("div",{children:[0===e.quota?"You didn't set the goal.":e.quota,0===e.quota?null:e.currency]}),Object(j.jsx)(Q,{variant:"outlined",type:"number",label:"New goal",placeholder:"e.g. 3.14",inputProps:{min:"0",onKeyDown:function(n){"Enter"!==n.key||i||e.onClick(o)}},InputLabelProps:{shrink:!0},error:i,disabled:e.disabled,onChange:function(e){return a(parseFloat(e.target.value))}}),Object(j.jsxs)("div",{style:{paddingTop:"1rem"},children:[Object(j.jsx)(H,{size:"large",variant:"contained",disableElevation:!0,startIcon:Object(j.jsx)(k.a,{}),disabled:i||e.disabled,onClick:function(){e.onClick(o)},children:"Save"}),Object(j.jsx)(W,{disableElevation:!0,size:"large",startIcon:Object(j.jsx)(E.a,{}),onClick:function(){return e.onClick(0)},children:"Reset"})]})]})},$=t(121),X=t(127),Z=Object(d.a)({root:{"& .MuiInput-underline:after":{borderBottomColor:"#009FB7"},color:"#272727",backgroundColor:"#ddd",padding:"0 .5rem",paddingTop:".5rem",borderTopLeftRadius:".25rem",borderTopRightRadius:".25rem"}})(p.a),ee=function(e){var n=["$","\u20ac","\xa5","\xa3","\u20b9","\u20bd","BTC"],t=Object(r.useState)(n.includes(e.currency)?e.currency:"custom"),o=Object(c.a)(t,2),a=o[0],i=o[1],s=Object(r.useState)(""),u=Object(c.a)(s,2),l=u[0],d=u[1];return Object(j.jsxs)("div",{style:{marginTop:"2rem"},children:[Object(j.jsx)("h3",{children:"Currency:"}),"custom"===a?Object(j.jsx)(Z,{defaultValue:e.currency,onChange:function(e){return d(e.target.value)},onKeyDown:function(n){"Enter"===n.key&&e.updateCurrency(l)}}):null,Object(j.jsxs)("div",{style:{marginTop:"0.25rem"},children:[Object(j.jsxs)($.a,{style:{marginRight:"0.5rem"},onChange:function(e){return i(e.target.value)},defaultValue:a,variant:"outlined",children:[n.map((function(e,n){return Object(j.jsx)(X.a,{value:e,children:e},n)})),Object(j.jsx)(X.a,{value:"custom",children:"Custom..."})]}),Object(j.jsx)(b.a,{style:{backgroundColor:"#009FB7"},size:"large",variant:"contained",disableElevation:!0,startIcon:Object(j.jsx)(k.a,{}),onClick:function(){e.updateCurrency("custom"===a?l:a)},children:"Save"})]})]})},ne=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==t){e.next=2;break}throw new Error("SAMECURRENCY");case 2:return e.next=4,fetch("/api/update_currency/".concat(t),{method:"POST"});case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("RESPONSESTATUSNOTOK");case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(s.a.mark((function e(n,t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==t){e.next=2;break}throw new Error("SAMEQUOTAASBEFORE");case 2:return e.next=4,fetch("/api/update_quota/".concat((o=t).toFixed(Math.max(2,(o.toString().split(".")[1]||[]).length))),{method:"POST"});case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("RESPONSESTATUSNOTOK");case 7:return e.abrupt("return",r.json());case 8:case"end":return e.stop()}var o}),e)})));return function(n,t){return e.apply(this,arguments)}}(),re=function(e){var n=Object(r.useState)({open:!1,message:""}),t=Object(c.a)(n,2),o=t[0],a=t[1],i=Object(r.useState)({open:!1,message:""}),s=Object(c.a)(i,2),u=s[0],l=s[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(x,{openCfg:o,onClose:function(){return a({open:!1,message:""})}}),Object(j.jsx)(y,{openCfg:u,onClose:function(){return l({open:!1,message:""})}}),Object(j.jsx)(G,{currency:e.currency,onClick:function(n){return te(e.quota,n).then((function(n){e.updateQuota(n),l({open:!0,message:"YAY! Goal updated successfully!"})})).catch((function(e){var n="";n="RESPONSESTATUSNOTOK"===e.message?"You sent an invalid value!":"SAMEQUOTAASBEFORE"===e.message?"You didn't change your goal!":"You have a network problem! Try refreshing the page!",a({open:!0,message:n})}))},quota:e.quota}),Object(j.jsx)(ee,{currency:e.currency,updateCurrency:function(n){return ne(e.currency,n).then((function(n){e.updateCurrency(n),l({open:!0,message:"YAY! Currency edited with success!"})})).catch((function(e){var n="";n="RESPONSESTATUSNOTOK"===e.message?"You sent an invalid value!":"SAMECURRENCY"===e.message?"You have already set that currency!":"You have a network problem! Try refreshing the page!",a({open:!0,message:n})}))}})]})},oe=function(e){return Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse",flexWrap:"wrap"},children:e.children})},ae=function(e){return Object(j.jsx)("div",{style:{order:2,flex:1},children:e.children})},ce=function(e){return Object(j.jsx)("div",{style:{flex:1,order:1},children:e.children})};window.htmlentities={encode:function(e){for(var n=[],t=e.length-1;t>=0;t--)n.unshift(["&#",e.charCodeAt(t),";"].join(""));return n.join("")},decode:function(e){return e.replace(/&#(\d+);/g,(function(e,n){return String.fromCharCode(n)}))}},"{{money}}"===window.money&&(window.money=JSON.stringify([{date:(new Date).toISOString(),value:1.14},{date:(new Date).toISOString(),value:2.14},{date:(new Date).toISOString(),value:3.14},{date:(new Date).toISOString(),value:4.14}]),window.quota="123.456",window.currency="0");var ie=JSON.parse(window.htmlentities.decode(window.money).replaceAll("'",'"'));var se=function(){var e=Object(r.useState)(ie),n=Object(c.a)(e,2),t=n[0],o=n[1],a=Object(r.useState)(window.currency),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(r.useState)(parseFloat(window.quota)),d=Object(c.a)(l,2),b=d[0],O=d[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"SaveBase"}),Object(j.jsxs)(oe,{children:[Object(j.jsxs)(ae,{children:[Object(j.jsx)(re,{currency:s,quota:b,updateQuota:function(e){return O(e)},updateCurrency:function(e){return u(e)}}),Object(j.jsx)(J,{currency:s,money:t,updateMoney:function(e){return o(e)}})]}),Object(j.jsx)(ce,{children:Object(j.jsx)("h1",{children:"CIAUUUU"})})]})]})};a.a.render(Object(j.jsx)(se,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.4543120e.chunk.js.map
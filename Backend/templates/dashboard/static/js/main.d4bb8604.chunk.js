(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{64:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t(9),a=t.n(r),i=t(15),c=t(35),s=t.n(c),u=t(43),d=t(101),l=t(4),b=t(100),j=t(8),f=Object(l.a)({root:{backgroundColor:"#009fb7",color:"#272727"}})(b.a),p=function(e){return Object(j.jsx)(f,{variant:"contained",startIcon:Object(j.jsx)(d.a,{}),disableElevation:!0,onClick:e.onClick,disabled:e.disabled,children:"Add value"})},O=t(103),h=Object(l.a)({root:{"& label.Mui-focused":{color:"#009FB7"},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#009FB7"},"&.Mui-focused fieldset":{borderColor:"#009FB7"}}}})(O.a),g=function(e){var n=Object(o.useState)(NaN),t=Object(i.a)(n,2),r=t[0],a=t[1],c=isNaN(r)||r<=0;return Object(j.jsxs)("div",{children:[Object(j.jsx)(h,{variant:"outlined",type:"number",label:"Money to add",placeholder:"e.g. 3.14",inputProps:{min:"0",onKeyDown:function(n){"Enter"!==n.key||c||e.onClick(r)}},InputLabelProps:{shrink:!0},error:c,disabled:e.disabled,onChange:function(e){return a(parseFloat(e.target.value))}}),Object(j.jsx)("div",{style:{paddingTop:"1rem"},children:Object(j.jsx)(p,{disabled:e.disabled||c,onClick:function(){return e.onClick(r)}})})]})},v=t(106),m=t(104);function C(e){return Object(j.jsx)(v.a,{open:e.openCfg.open,autoHideDuration:2500,onClose:e.onClose,children:Object(j.jsx)(m.a,{severity:"error",variant:"filled",children:e.openCfg.message})})}function x(e){return Object(j.jsx)(v.a,{open:e.openCfg.open,autoHideDuration:2500,onClose:e.onClose,children:Object(j.jsx)(m.a,{severity:"success",variant:"filled",children:e.openCfg.message})})}var w=function(e){return e.toFixed(Math.max(2,(e.toString().split(".")[1]||[]).length))},S=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/add_money/".concat(w(n)),{method:"POST"});case 2:if((t=e.sent).ok){e.next=7;break}throw new Error("RESPONSESTATUSNOTOK");case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(e){var n=Object(o.useState)(!1),t=Object(i.a)(n,2),r=t[0],a=t[1],c=Object(o.useState)({open:!1,message:""}),s=Object(i.a)(c,2),u=s[0],d=s[1],l=Object(o.useState)({open:!1,message:""}),b=Object(i.a)(l,2),f=b[0],p=b[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(C,{openCfg:u,onClose:function(){return d({open:!1,message:""})}}),Object(j.jsx)(x,{openCfg:f,onClose:function(){return p({open:!1,message:""})}}),Object(j.jsx)(g,{onClick:function(n){a(!0),S(n).then((function(n){e.updateMoney(n),p({open:!0,message:"YAY! Nothing went wrong!"})})).catch((function(e){return d({open:!0,message:"RESPONSESTATUSNOTOK"===e.message?"You sent an invalid value":"There's a network problem! Try refreshing the page."})})).finally((function(){return a(!1)}))},disabled:r})]})};window.htmlentities={encode:function(e){for(var n=[],t=e.length-1;t>=0;t--)n.unshift(["&#",e.charCodeAt(t),";"].join(""));return n.join("")},decode:function(e){return e.replace(/&#(\d+);/g,(function(e,n){return String.fromCharCode(n)}))}},"{{money}}"===window.money&&(window.money=JSON.stringify([{date:(new Date).toISOString(),value:3.14}]));var k=JSON.parse(window.htmlentities.decode(window.money).replaceAll("'",'"'));var N=function(){var e=Object(o.useState)(k),n=Object(i.a)(e,2),t=n[0],r=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"SaveBase"}),Object(j.jsx)(y,{money:t,updateMoney:function(e){return r(e)}})]})};a.a.render(Object(j.jsx)(N,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d4bb8604.chunk.js.map
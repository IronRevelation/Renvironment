{"version":3,"sources":["components/MoneyComponent.tsx","components/AddButton.tsx","components/MoneyManager.tsx","components/App.tsx","index.tsx"],"names":["MoneyComponent","props","date","Date","tableStyles","border","borderCollapse","style","getFullYear","getMonth","getDate","value","onClick","numInput","parseFloat","prompt","updateSingleElem","index","toFixed","Math","max","toString","split","length","deleteElem","AddButton","addFn","MoneyManager","moneyArray","JSON","parse","money","fetch","method","then","window","location","href","map","v","i","newVal","htmlentities","encode","str","buf","unshift","charCodeAt","join","decode","replace","match","dec","String","fromCharCode","id","stringify","toISOString","App","replaceAll","ReactDOM","render","document","getElementById"],"mappings":"8JA8DeA,EArDV,SAACC,GACL,IAAMC,EAAO,IAAIC,KAAKF,EAAMC,MAEtBE,EAA6B,CAClCC,OAAQ,kBACRC,eAAgB,YAGjB,OACC,8BACC,wBAAOC,MAAOH,EAAd,UACC,qBAAIG,MAAOH,EAAX,UACC,oBAAIG,MAAOH,EAAX,kBACA,oBAAIG,MAAOH,EAAX,mBACA,oBAAIG,MAAOH,EAAX,oBACA,oBAAIG,MAAOH,EAAX,uBAED,qBAAIG,MAAOH,EAAX,UACC,oBAAIG,MAAOH,EAAX,mBAA4BF,EAAKM,cAAjC,YACCN,EAAKO,WAAa,EADnB,YAEIP,EAAKQ,aACT,oBAAIH,MAAOH,EAAX,SAAyBH,EAAMU,QAC/B,6BACC,yBACCC,QAAS,WAAO,IAAD,EACRC,EAAWC,WAAU,UAC1BC,OAAO,mCADmB,QACY,IAEvCd,EAAMe,iBACLf,EAAMgB,MACNJ,EAASK,QACRC,KAAKC,IACJ,GACCP,EAASQ,WAAWC,MAAM,KAAK,IAAM,IAAIC,WAV/C,UAgBC,cAAC,IAAD,IAhBD,mBAmBD,6BACC,yBAAQX,QAAS,kBAAMX,EAAMuB,WAAWvB,EAAMgB,QAA9C,UACC,cAAC,IAAD,IADD,8B,QCzCSQ,EARoC,SAACxB,GACnD,OACC,yBAAQW,QAAS,kBAAMX,EAAMyB,SAA7B,UACC,cAAC,IAAD,IADD,iBC6CaC,EA9CmC,SAAC1B,GAClD,IAAM2B,EAAaC,KAAKC,MAAM7B,EAAM8B,OAIpC,OACC,gCACC,cAAC,EAAD,CACCL,MAAO,WACNM,MAAM,kBAAD,OACe,WAAO,IAAD,EAClBnB,EAAWC,WAAU,UAC1BC,OAAO,mCADmB,QACY,IAEvC,OAAOF,EAASK,QACfC,KAAKC,IAAI,GAAIP,EAASQ,WAAWC,MAAM,KAAK,IAAM,IAAIC,SALrC,IAQnB,CAAEU,OAAQ,SACTC,MAAK,WACNC,OAAOC,SAASC,KAAO,mBAIzBT,EAAWU,KAAI,SAACC,EAAGC,GAAJ,OACf,cAAC,EAAD,CACCxB,iBAAkB,SAACC,EAAOwB,GACzBT,MAAM,qBAAD,OAAsBf,EAAtB,YAA+BwB,GAAU,CAC7CR,OAAQ,SACNC,MAAK,kBAAOC,OAAOC,SAASC,KAAO,iBAEvCb,WAAY,SAACP,GACZe,MAAM,qBAAD,OAAsBf,GAAS,CACnCgB,OAAQ,SACNC,MAAK,kBAAOC,OAAOC,SAASC,KAAO,iBAEvCpB,MAAOuB,EACPtC,KAAMqC,EAAErC,KACRS,MAAO4B,EAAE5B,OACJ6B,UC7BVL,OAAOO,aAAe,CAMrBC,OAAQ,SAAUC,GAGjB,IAFA,IAAIC,EAAM,GAEDL,EAAII,EAAIrB,OAAS,EAAGiB,GAAK,EAAGA,IACpCK,EAAIC,QAAQ,CAAC,KAAMF,EAAIG,WAAWP,GAAI,KAAKQ,KAAK,KAGjD,OAAOH,EAAIG,KAAK,KAQjBC,OAAQ,SAAUL,GACjB,OAAOA,EAAIM,QAAQ,aAAa,SAAUC,EAAOC,GAChD,OAAOC,OAAOC,aAAaF,QAKZ,WAAdjB,OAAOoB,IAAoC,cAAjBpB,OAAOJ,QACpCI,OAAOoB,GAAK,WACZpB,OAAOJ,MAAQF,KAAK2B,UAAU,CAC7B,CACCtD,MAAM,IAAIC,MAAOsD,cACjB9C,MAAO,SAiBK+C,MAZf,WACC,OACC,gCACC,+CAAkBvB,OAAOoB,IAAM,eAC/B,uCACA,cAAC,EAAD,CACCxB,MAAOI,OAAOO,aAAaO,OAAOd,OAAOJ,OAAO4B,WAAW,IAAK,WCvDpEC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.f6f3741e.chunk.js","sourcesContent":["import React, { CSSProperties } from \"react\";\nimport { PencilFill, TrashFill } from \"react-bootstrap-icons\";\n\nconst MoneyComponent: React.FC<{\n\tdate: string;\n\tvalue: number;\n\tindex: number;\n\tupdateSingleElem: (i: number, val: string) => void;\n\tdeleteElem: (i: number) => void;\n}> = (props) => {\n\tconst date = new Date(props.date);\n\n\tconst tableStyles: CSSProperties = {\n\t\tborder: \"1px solid black\",\n\t\tborderCollapse: \"collapse\",\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<table style={tableStyles}>\n\t\t\t\t<tr style={tableStyles}>\n\t\t\t\t\t<th style={tableStyles}>Date</th>\n\t\t\t\t\t<th style={tableStyles}>Value</th>\n\t\t\t\t\t<th style={tableStyles}>Modify</th>\n\t\t\t\t\t<th style={tableStyles}>Delete</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr style={tableStyles}>\n\t\t\t\t\t<td style={tableStyles}>{`${date.getFullYear()}-${\n\t\t\t\t\t\tdate.getMonth() + 1\n\t\t\t\t\t}-${date.getDate()}`}</td>\n\t\t\t\t\t<td style={tableStyles}>{props.value}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tconst numInput = parseFloat(\n\t\t\t\t\t\t\t\t\tprompt(\"Insert the new quantity:\") ?? \"\"\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tprops.updateSingleElem(\n\t\t\t\t\t\t\t\t\tprops.index,\n\t\t\t\t\t\t\t\t\tnumInput.toFixed(\n\t\t\t\t\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t\t\t\t\t(numInput.toString().split(\".\")[1] || []).length\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PencilFill /> Edit value\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button onClick={() => props.deleteElem(props.index)}>\n\t\t\t\t\t\t\t<TrashFill /> Delete value\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nexport default MoneyComponent;\n","import React from \"react\";\nimport { Plus } from \"react-bootstrap-icons\";\n\nconst AddButton: React.FC<{ addFn: () => void }> = (props) => {\n\treturn (\n\t\t<button onClick={() => props.addFn()}>\n\t\t\t<Plus /> Add value\n\t\t</button>\n\t);\n};\n\nexport default AddButton;\n","import React from \"react\";\nimport MoneyComponent from \"./MoneyComponent\";\nimport AddButton from \"./AddButton\";\n\nconst MoneyManager: React.FC<{ money: string }> = (props) => {\n\tconst moneyArray = JSON.parse(props.money) as {\n\t\tdate: string;\n\t\tvalue: number;\n\t}[];\n\treturn (\n\t\t<div>\n\t\t\t<AddButton\n\t\t\t\taddFn={() => {\n\t\t\t\t\tfetch(\n\t\t\t\t\t\t`/api/add_money/${(() => {\n\t\t\t\t\t\t\tconst numInput = parseFloat(\n\t\t\t\t\t\t\t\tprompt(\"Insert the new quantity:\") ?? \"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn numInput.toFixed(\n\t\t\t\t\t\t\t\tMath.max(2, (numInput.toString().split(\".\")[1] || []).length)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})()}`,\n\t\t\t\t\t\t{ method: \"POST\" }\n\t\t\t\t\t).then(() => {\n\t\t\t\t\t\twindow.location.href = \"/dashboard\";\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{moneyArray.map((v, i) => (\n\t\t\t\t<MoneyComponent\n\t\t\t\t\tupdateSingleElem={(index, newVal) => {\n\t\t\t\t\t\tfetch(`/api/modify_money/${index}/${newVal}`, {\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t}).then(() => (window.location.href = \"/dashboard\"));\n\t\t\t\t\t}}\n\t\t\t\t\tdeleteElem={(index) => {\n\t\t\t\t\t\tfetch(`/api/remove_money/${index}`, {\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t}).then(() => (window.location.href = \"/dashboard\"));\n\t\t\t\t\t}}\n\t\t\t\t\tindex={i}\n\t\t\t\t\tdate={v.date}\n\t\t\t\t\tvalue={v.value}\n\t\t\t\t\tkey={i}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default MoneyManager;\n","import React from \"react\";\nimport MoneyManager from \"./MoneyManager\";\n\ndeclare global {\n\tinterface Window {\n\t\tid: string;\n\t\tmoney: string;\n\t\thtmlentities: {\n\t\t\tencode: (a: string) => string;\n\t\t\tdecode: (a: string) => string;\n\t\t};\n\t}\n}\n\nwindow.htmlentities = {\n\t/**\n\t * Converts a string to its html characters completely.\n\t *\n\t * @param {String} str String with unescaped HTML characters\n\t **/\n\tencode: function (str) {\n\t\tvar buf = [];\n\n\t\tfor (var i = str.length - 1; i >= 0; i--) {\n\t\t\tbuf.unshift([\"&#\", str.charCodeAt(i), \";\"].join(\"\"));\n\t\t}\n\n\t\treturn buf.join(\"\");\n\t},\n\n\t/**\n\t * Converts an html characterSet into its original character.\n\t *\n\t * @param {String} str htmlSet entities\n\t **/\n\tdecode: function (str) {\n\t\treturn str.replace(/&#(\\d+);/g, function (match, dec) {\n\t\t\treturn String.fromCharCode(dec);\n\t\t});\n\t},\n};\n\nif (window.id === \"{{id}}\" && window.money === \"{{money}}\") {\n\twindow.id = \"12345678\";\n\twindow.money = JSON.stringify([\n\t\t{\n\t\t\tdate: new Date().toISOString(),\n\t\t\tvalue: 3.14,\n\t\t},\n\t]);\n}\n\nfunction App() {\n\treturn (\n\t\t<div>\n\t\t\t<h1>IL TUO ID E':{window.id || \"Nessun ID\"}</h1>\n\t\t\t<h1>MONEY</h1>\n\t\t\t<MoneyManager\n\t\t\t\tmoney={window.htmlentities.decode(window.money).replaceAll(\"'\", '\"')}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}